import{u as e,m as t,c as n}from"./comm_utils.mg5xph6v4fda8a3d.js";import{m as o,D as i,A as a,f as r,a as c,s,b as l}from"./private_share.mg5xph6v1a0c9c7e.js";function p(e,t,n,c,s,l){let p;if(0==e.indexOf("/")&&(p=function(e){const t=document.createElement("a");return t.href=e,{source:e,protocol:t.protocol.replace(":",""),host:t.hostname,port:t.port,query:t.search,params:function(){const e={},n=t.search.replace(/^\?/,"").split("&");let o,i=n.length,a=0;for(;a<i;a++)n[a]&&(o=n[a].split("="),e[o[0]]=o[1]);return e}(),file:(t.pathname.match(/([^\/?#]+)$/i)||[,""])[1],hash:t.hash.replace("#",""),path:t.pathname.replace(/^([^\/])/,"/$1"),relative:(t.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:t.pathname.replace(/^\//,"").split("/")}}(location.href),e="".concat(p.protocol,"://").concat(p.host).concat(e),console.log("openUrlWithExtraWebview with relative path:",e)),e=e.replace(/(#[^#]*)+/,((e,t,n)=>t)),o.isNewMpApp||-1!==navigator.userAgent.indexOf("MicroMessenger")&&(o.isIOS||o.isAndroid||o.isWp||i.os.pc))a.invoke("openUrlWithExtraWebview",{url:e,scene:t||"",bizUsername:n||"",interactiveDismiss:!!l,openType:void 0===c?1:c},(t=>{var n;-1===(null===(n=t.err_msg)||void 0===n?void 0:n.indexOf("ok"))?location.href=e:"function"==typeof s&&s(t)}));else if(o.isMpapp)try{r("WNNativeCallbackOpenNewWindow",{url:e})}catch(u){location.href=e}else{window.open(e)||o.isWxWork||(location.href=e)}}const u={openUrlWithExtraWebview:p},d={dealLikeReadShow_en:function(e){if("undefined"==typeof LANG||!window.LANG)return 0===parseInt(e)?"":e;if("en"==window.LANG){let t="";if(parseInt(e)>1e5)t="".concat(100,"k+");else if(parseInt(e)>1e4&&parseInt(e)<=1e5){const n="".concat(parseInt(e)/1e3),o=n.indexOf(".");t=-1===o?"".concat(n,"k"):"".concat(n.substring(0,o),".").concat(n.charAt(o+1),"k")}else t=0===parseInt(e)?"":e;return t}return""}};var m={d:(e,t)=>{for(var n in t)m.o(t,n)&&!m.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},h={};m.d(h,{A:()=>b,Q:()=>_});var f=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n},g=function(e,t,n){if(n||2===arguments.length)for(var o,i=0,a=t.length;i<a;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))},w=function(e){if("object"==typeof e&&e)return e;if("string"==typeof e)try{return JSON.parse(e)}catch(t){return}},y=function(e){return 173===e?95:166===e?147:[205,207,206].includes(e)?135:78};function _(e){var t,n,o=e.thirdExtParam,i=void 0===o?"":o,a=e.kvItems,r=void 0===a?[]:a,c=e.sessionKvItems,s=void 0===c?[]:c,l=e.scene,p=void 0===l?-1:l,u=(e.query,e.parentType),d=f(e,["thirdExtParam","kvItems","sessionKvItems","scene","query","parentType"]),m={crossExtReqParams:[],sessionExtReqParams:[],originThirdExtParam:""};try{if(console.warn("mpThirdExtParamToSearchExtParam init extReqParams:",m),!i)throw new Error("mpThirdExtParamToSearchExtParam thirdExtParam 不存在");var h=JSON.parse(decodeURIComponent(i));if(h){if(m.originThirdExtParam=JSON.stringify({s1sKeywordsData:null==h?void 0:h.s1sKeywordsData,mp_bizuin_msgid_msgidx:null==h?void 0:h.mp_bizuin_msgid_msgidx,mp_finger_search_query_pos:null==h?void 0:h.mp_finger_search_query_pos}),null==h?void 0:h.s1sKeywordsData){var _=(h||{}).s1sKeywordsData,b=void 0===_?{}:_,x=b.enterId,v=void 0===x?0:x,k=b.s1sContextInfo,P=void 0===k?"{}":k,S=b.s1sStatInfo,I=void 0===S?"{}":S,E=b.sessionId,T=void 0===E?"":E,W=b.postype,O=w(decodeURIComponent(P))||{},R=w(decodeURIComponent(I))||{},C=R.bizuin,M=void 0===C?0:C,q=R.msgid,A=void 0===q?0:q,N=R.msgidx,U=void 0===N?0:N,D=O.mixerCommonContext,j=void 0===D?"":D,z=(O.isNeedUpdateGPTInfo,O.S1SPageType);if([2,5].includes(void 0===z?1:z))return{thirdExtParam:i};m.crossExtReqParams.push({key:"parentSearchID",textValue:[u||y(p),v||R.enterId,"","".concat(M,"_").concat(A,"_").concat(U),encodeURIComponent(JSON.stringify({enterId:v||R.enterId,sessionId:T,s1sStatInfo:R,postype:W,mpBizuinMsgidMsgidx:(null==h?void 0:h.mp_bizuin_msgid_msgidx)||"".concat(M,"_").concat(A,"_").concat(U),mpFingerSearchQueryPos:null==h?void 0:h.mp_finger_search_query_pos}))].join(":").replace(/,/g,";")}),j&&m.crossExtReqParams.push({key:"mixerCommonContext",textValue:j})}else m.crossExtReqParams.push({key:"parentSearchID",textValue:[u||y(p),0,"","",encodeURIComponent(JSON.stringify({mpBizuinMsgidMsgidx:null==h?void 0:h.mp_bizuin_msgid_msgidx,mpFingerSearchQueryPos:null==h?void 0:h.mp_finger_search_query_pos}))].join(":").replace(/,/g,";")});(null==h?void 0:h.mpSelectedContent)&&m.sessionExtReqParams.push({key:"mpSelectedContent",textValue:h.mpSelectedContent}),(null==h?void 0:h.mpSelectActionType)&&m.sessionExtReqParams.push({key:"mpSelectActionType",textValue:String(h.mpSelectActionType)}),(null==h?void 0:h.mp_bizuin_msgid_msgidx)&&m.sessionExtReqParams.push({key:"mpBizuinMsgidMsgidx",textValue:h.mp_bizuin_msgid_msgidx}),(null==h?void 0:h.mp_finger_search_query_context)&&m.sessionExtReqParams.push({key:"mpFingerSearchQueryContext",textValue:h.mp_finger_search_query_context}),(null==h?void 0:h.mp_finger_search_query_pos)&&m.sessionExtReqParams.push({key:"mpFingerSearchQueryPos",textValue:String(h.mp_finger_search_query_pos)}),((null==h?void 0:h.aiH5Link)||(null==h?void 0:h.aiH5Title))&&m.sessionExtReqParams.push({key:"aiSearchUploadInfo",textValue:JSON.stringify({uploadFiles:[{fileType:4,fileContentDetail:{mpContentDetail:{title:null==h?void 0:h.aiH5Title}},url:String(null==h?void 0:h.aiH5Link)}],contentType:4,allowedContentType:4})})}return(null==r?void 0:r.length)&&(t=m.crossExtReqParams).push.apply(t,r),(null==s?void 0:s.length)&&(n=m.sessionExtReqParams).push.apply(n,s),d&&Object.keys(d).length&&(m.otherJsApiParams=d),console.warn("mpThirdExtParamToSearchExtParam extReqParams:",m),{thirdExtParam:encodeURIComponent(JSON.stringify(m)),extReqParams:JSON.stringify(g(g([],m.crossExtReqParams,!0),m.sessionExtReqParams,!0))}}catch(H){return console.error("mpThirdExtParamToSearchExtParam err:",H),{thirdExtParam:i}}}const b={mpThirdExtParamToSearchExtParam:_};var x=h.Q;const v=e.getInnerHeight(),k=e.getInnerWidth(),P={inWechat:o.isWechat,windowWechat:o.isWindowsWechat,macWechat:o.isMacWechat,emojiImg:'<img src="https://res.wx.qq.com/mmbizappmsg/zh_CN/images/pic/pic_blank.gif" class="icon_emotion_single #style#" alt="#name#">',emojiDataMap:{}};const S=(e,t,n={})=>{var o,i;P.inWechat?a.invoke("openWebViewUseFastLoad",{url:e,item_show_type:null!==(i=null!==(o=n.itemShowType)&&void 0!==o?o:1*window.item_show_type)&&void 0!==i?i:0,openType:0,scene:1},(n=>{n&&n.err_msg&&-1===n.err_msg.indexOf("ok")&&a.invoke("openUrlWithExtraWebview",{url:e,openType:1},(n=>{var o;-1===(null===(o=n.err_msg)||void 0===o?void 0:o.indexOf("ok"))&&(!0===t?window.parent.open(e):window.parent.location.href=e)}))})):!0===t?window.open(e):location.href=e};const I=(e,t={})=>{if("album"===e){const e={bizuin:window.biz,url:"".concat(t.url),ActionType:1*t.actionType,Scene:1*window.source,Network:"".concat(window.__networkType),AlbumId:"".concat(t.albumId),AlbumType:1*t.albumType,ExpType:window.exptype||"",EnterId:window.enterid||"",SessionId:window.sessionid||"",ExpSessionIdStr:window.expsessionid||""};n.report(10380,e,{success:t=>{1*t.err_code!=0&&"undefined"!=typeof WX_BJ_REPORT&&window.WX_BJ_REPORT.BadJs&&window.WX_BJ_REPORT.BadJs.report("mmdata report failed","log_id: 10380",{mid:"mmbizwap:album_Monitor",_info:{postData:e,errCode:t.err_code,errMsg:t.err_msg}})}})}},E=(e,t,n)=>{const o=new RegExp("".concat(t,"=[^&]*"),"gi"),i="".concat(t,"=").concat(n);return o.test(e)?e.replace(o,i):e.replace(/(#.*)?$/,"".concat(e.indexOf("?")>-1?"&":"?").concat(i,"$1"))};function T(){c.on(window,"load",(()=>{if(!window.__networkType&&P.inWechat){let e={"network_type:fail":"fail","network_type:edge":"2g/3g","network_type:wwan":"2g/3g","network_type:wifi":"wifi"};a.invoke("getNetworkType",{},(t=>{window.__networkType=e[t.err_msg]}))}}),!1)}const W=[1,24,2,3,43,22,23,5];function O(e,t,n=!1){let o;return function(){let i=this,a=arguments,r=n&&!o;clearTimeout(o),o=setTimeout((function(){o=null,n||e.apply(i,a)}),t),r&&e.apply(i,a)}}function R(e){if("en"===window.LANG)return d.dealLikeReadShow_en(e);let t="";if(parseInt(e,10)>1e5)t="".concat(10,"万+");else if(parseInt(e,10)>1e4&&parseInt(e,10)<=1e5){const n="".concat(parseInt(e,10)/1e4),o=n.indexOf(".");t=-1===o?"".concat(n,"万"):"".concat(n.substr(0,o),".").concat(n.charAt(o+1),"万")}else t=0===parseInt(e,10)?"":e||"";return t}function C(e,t){let n,o;return function(){let i=this,a=arguments,r=+new Date;n&&r<n+t?(clearTimeout(o),o=setTimeout((()=>{n=r,e.apply(i,a)}),t)):(n=r,e.apply(i,a))}}function M(){let e=0,t=0,n=0;return document.body&&(t=document.body.scrollTop),document.documentElement&&(n=document.documentElement.scrollTop),e=t-n>0?t:n,e}function q(){let e,t,n=0;return document.body&&(e=document.body.scrollHeight),document.documentElement&&(t=document.documentElement.scrollHeight),n=e-t>0?e:t,n}function A(){let e=0;return e="CSS1Compat"===document.compatMode?document.documentElement.clientHeight:document.body.clientHeight,e}const{enableSelect:N,disableSelect:U}=(()=>{const e=document.createElement("style");return e.innerHTML='*:not(input):not(textarea):not([contenteditable="true"]) { -webkit-touch-callout: none !important; -webkit-user-select: none !important; -khtml-user-select: none !important; -moz-user-select: none !important; -ms-user-select: none !important; user-select: none !important; }',{enableSelect(){document.head.contains(e)&&document.head.removeChild(e)},disableSelect(){document.head.appendChild(e)}}})(),D=(e,t=2)=>{for(let n=0,o=t-"".concat(e).length;n<o;n++)e="0".concat(e);return"".concat(e)};function j(e,t="openWXSearchPage",n=(()=>{})){e.thirdExtParam=Object.assign(e.thirdExtParam||{},{mp_bizuin_msgid_msgidx:"".concat(atob(window.biz),"_").concat(window.mid,"_").concat(window.idx),aiH5Link:location.href,aiH5Title:window.msg_title}),e.thirdExtParam=encodeURIComponent(JSON.stringify(e.thirdExtParam)),Object.assign(e,x(e)),o.isWechat&&a.invoke(t,e,n)}function z(e,t,n,o={useHalfPage:!1,halfPageParam:{},thirdExtParam:{}}){const i=o.halfPageParam||{},a=o.useHalfPage||!1,r=Object.assign(Object.assign({query:e},i),{thirdExtParam:Object.assign({s1sKeywordsData:Object.assign({s1sContextInfo:t,s1sStatInfo:n},void 0!==o.postype&&{postype:o.postype})},o.thirdExtParam)});a?j(r,"openWXSearchHalfPage"):j(r)}function H(e){if("string"==typeof e){var t=document.createElement("div");t.innerHTML=e,e=t}return e.innerText?e.innerText:""}function L(e="",t="",n=""){const o=512;if(e.length+t.length+n.length<=o)return e+t+n;if(t.length>=o)return t;const i=(o-t.length)/2;let a=0,r=n.length;e.length<=i?r=o-t.length-e.length:n.length<=i?a=e.length-(o-t.length-n.length):(a=e.length-i,r=i),a=a<0?0:a;return e.slice(a)+t+n.slice(0,r)}const B=function(e,t){const n=new Date(1e3*(1*t)),o=new Date(1e3*e),i=e=>"0".concat(e).slice(-2),a=n.getFullYear(),r=i(n.getMonth()+1),c=i(n.getDate()),s=i(n.getHours()),l=i(n.getMinutes()),p=o-n,u=Math.floor(p/6e4),d=new Date(o);d.setHours(0,0,0,0);const m=new Date(d);m.setDate(m.getDate()-1);const h=new Date(o.getFullYear(),0,1);let f="";return f=n>=d?u<60?0===u?"刚刚":"".concat(u,"分钟前"):"今天".concat(s,":").concat(l):n>=m?"昨天".concat(s,":").concat(l):n>=h?"".concat(parseInt(r,10),"月").concat(parseInt(c,10),"日").concat(s,":").concat(l):"".concat(a,"年").concat(parseInt(r,10),"月").concat(parseInt(c,10),"日").concat(s,":").concat(l),f};const F=e=>{const t=e.replace(/\s+/g,""),n=t.match(/[\u4e00-\u9fa5]/g)||[],o=t.match(/[a-zA-Z]/g)||[],i=n.length;return o.length/i>1},J={jumpUrl:S,closeWin:()=>{!P.inWechat||P.windowWechat||P.macWechat?window.close():a.invoke("closeWindow",(e=>{-1==e.err_msg.indexOf("ok")&&window.close()}))},trim:e=>"".concat(e||"").replace(/^\s+|\s+$/g,""),getId:e=>document.getElementById(e),qs:(e,t)=>(t||document).querySelector(e),qsAll:(e,t)=>(t||document).querySelectorAll(e),inWechat:P.inWechat,windowWechat:P.windowWechat,macWechat:P.macWechat,getParam:function(e){if(!e)return null;let t=location.href.match(new RegExp("(\\?|&)".concat(e,"=([^&]+)")));return t?t[2].split("#")[0]:null},getParams:function(e){let t=[];const n={};if(!e)try{t=(e=window.top.location).search.substring(1).split("&")}catch(o){t=(e=window.location).search.substring(1).split("&")}"string"==typeof e&&(t=(e=new URL(e)).search.substring(1).split("&"));for(let i=0;i<t.length;i++){const e=t[i].split("="),o=decodeURIComponent(e.shift());void 0===n[o]&&(n[o]=decodeURIComponent(e.join("=")))}return n},genUrl:function(e,t,n){return"string"!=typeof e?"":(t&&"object"==typeof t&&Object.keys(t).length&&(e+="?".concat(Object.keys(t).map((e=>"".concat(e,"=").concat(encodeURIComponent(t[e])))).join("&"))),n&&"string"==typeof n&&(e+="#".concat(n)),e)},prepareNativePage:function(e,t){a.invoke("createWebViewForFastLoad",{scene:1},(n=>{e.forEach((e=>{a.invoke("downloadPageDataForFastLoad",{itemList:[{item_show_type:5,url:e[t]}]},(e=>{console.log(e)}))}))}))},debounce:O,throttle:C,formatReadNum:R,formatSeconds:function(e){let t=parseInt(e,10),n=0,o=0;t>60&&(n=parseInt(t/60,10),t=parseInt(t%60,10),n>60&&(o=parseInt(n/60,10),n=parseInt(n%60,10))),t<10&&(t="0".concat(t));let i=":".concat(t);return n>0?(n<10&&(n="0".concat(n)),i=n+i):i="00".concat(i),o>0&&(0===parseInt(o,10)?o="":o<10&&(o="0".concat(o)),i="".concat(o,":").concat(i)),i},formatTimeToMinute:e=>{10===e.length&&(e*=1e3);const t=new Date(+e);let n=D(t.getHours()),o=D(t.getMinutes());return"".concat(n,":").concat(o)},setTwoTabHeight:function(t){if(window.hasChannelTwoTab&&e.isNewNativePage()){let e;e=document.getElementById("tab").offsetTop-window.__minHeight;let n=document.body.offsetHeight,o=v+e;if(n<o){const n=e+v-document.body.offsetHeight,o=document.createElement("div");o.setAttribute("class","empty_comment_element"),o.style.cssText="height: ".concat(n,"px;"),document.getElementById(t).appendChild(o)}window.minMountHeight=o}},getByClass:(e,t)=>(t||document).getElementsByClassName(e),getScrollTop:M,getScrollHeight:q,getWindowHeight:A,shareMessage:function(e={}){let t={appId:e.appId,img_url:e.img_url,img_width:e.img_width,img_height:e.img_height,link:e.link.replace(/<br\/>/g,"\n"),desc:e.desc.replace(/<br\/>/g,"\n"),title:e.title};T(),/#wechat_redirect/.test(t.link)||(t.link+="#wechat_redirect");let n="",o={url:t.link,actionType:0},i=I;e.isAlbum?(n="album",t=Object.assign({album_id:e.album_id,album_type:e.album_type},t),o=Object.assign({albumId:e.album_id,albumType:e.album_type},o)):"function"==typeof e.shareReport&&(i=(t,n)=>e.shareReport(n.actionType)),a.on("menu:share:appmessage",(a=>{let r;if(a&&"favorite"===a.scene?(r=24,t.link=E(t.link,"scene",W[1])):(r=1,t.link=E(t.link,"scene",W[0])),"function"==typeof e.beforeShare)try{t=e.beforeShare("menu:share:appmessage",t)||t}catch(c){}o.url=t.link,o.actionType=r,i(n,o),s(t)})),a.on("menu:share:timeline",(()=>{if(t.link=E(t.link,"scene",W[2]),o.url=t.link,o.actionType=2,"function"==typeof e.beforeShare)try{t=e.beforeShare("menu:share:timeline",t)||t}catch(a){}i(n,o),l(t)})),a.on("menu:share:weiboApp",(()=>{if(t.link=E(t.link,"scene",W[3]),o.url=t.link,o.actionType=3,"function"==typeof e.beforeShare)try{t=e.beforeShare("menu:share:weiboApp",t)||t}catch(r){}i(n,o),a.invoke("shareWeiboApp",{img_url:t.img_url,link:t.link,title:t.title})})),a.on("menu:share:facebook",(()=>{if(t.link=E(t.link,"scene",W[4]),o.url=t.link,o.actionType=7,"function"==typeof e.beforeShare)try{t=e.beforeShare("menu:share:facebook",t)||t}catch(r){}i(n,o),a.invoke("shareFB",t)})),a.on("menu:share:QZone",(()=>{if(t.link=E(t.link,"scene",W[5]),o.url=t.link,o.actionType=5,"function"==typeof e.beforeShare)try{t=e.beforeShare("menu:share:QZone",t)||t}catch(r){}i(n,o),a.invoke("shareQZone",t)})),a.on("menu:share:qq",(()=>{if(t.link=E(t.link,"scene",W[6]),o.url=t.link,o.actionType=5,"function"==typeof e.beforeShare)try{t=e.beforeShare("menu:share:qq",t)||t}catch(r){}i(n,o),a.invoke("shareQQ",t)})),a.on("menu:share:email",(()=>{if(t.link=E(t.link,"scene",W[7]),o.url=t.link,o.actionType=5,"function"==typeof e.beforeShare)try{t=e.beforeShare("menu:share:email",t)||t}catch(r){}i(n,o),a.invoke("sendEmail",{content:t.link,title:t.title})}))},getElementTop:function(e){return e.getBoundingClientRect().top},formatAlbumnReadNum:function(e,t){const n="en"===window.LANG,o=n?"k":"万";let i="";const a=1e4*t,r=n?10*t:t;if((e=parseInt(e,10))>a)i="".concat(r+o,"+");else if(e>=1e4&&e<=a){const t="".concat(n?e/1e3:e/1e4),a=t.indexOf(".");i=-1===a?t+o:"".concat(t.substr(0,a),".").concat(t.charAt(a+1)).concat(o)}else i=e;return i||0},getElementHeight:function(e){return e.getBoundingClientRect().height},getQuery:function(e){let t=window.location.href,n=t.indexOf("?"),o=t.substr(n+1).split("&");for(let i=0;i<o.length;i++){let t=o[i].split("=");if(t[0].toUpperCase()==e.toUpperCase())return t[1]}return""},openAllVideoPage:function(e={}){const t="".concat(location.origin,"/mp/profile_ext?action=home&real_type=43&__biz=").concat(e.biz,"&scene=").concat(e.scene,"#wechat_redirect");S(t,!0)},getNetWorkType:T,getMoreVideoInfo:function(e,n){return"".concat(t.getQuery("__biz",e),"_").concat(t.getQuery("mid",e),"_").concat(t.getQuery("idx",e),"_").concat(n)},isPageEnd:function(){return M()+A()+30>=q()},openAlbumPage:function(e={}){let t="".concat(e.albumLink.replace("#wechat_redirect",""),"&scene=").concat(e.scene,"&is_first_screen=1&subscene=").concat(e.subscene,"&vid=").concat(e.vid,"&count=").concat(e.pageCount?e.pageCount:3,"&from_msgid=").concat(e.curMsgid?e.curMsgid:"","&from_itemidx=").concat(e.curItemidx?e.curItemidx:"","&scenenote=").concat(e.scenenote,"#wechat_redirect");S(t,!0)},checkExposedStatus:(e,t=.5,n="vertical",o=window)=>{if(!e)return!1;let i=!1,a=0,r=0,c=!1,s=!1,l=o===o.window?k:o.getBoundingClientRect().width,p=o===o.window?v:o.getBoundingClientRect().height;switch("number"==typeof t?(a=t,r=t):(a=t.vertical,r=t.horizontal),n){case"vertical":c=!0;break;case"horizontal":s=!0;break;case"all":c=!0,s=!0}const u=e.getBoundingClientRect();if(c){const e=u.height*a;u.bottom>e&&u.top<p-e&&(i=!0)}if(!s)return i;if(c&&!i)return i;const d=u.width*r;return i=u.right>d&&u.left<l-d,i},isParent:(e,t)=>{for(;e;){if(e===t)return!0;e=e.parentNode}return!1},goUrl:(e,t={},n="webview")=>{if(!e)return;/^http/.test(e)||(e="".concat(location.protocol,"//").concat(location.host).concat(e));const i=(-1===e.indexOf("?")?"?":"&")+Object.keys(t).map((e=>"".concat(e,"=").concat(t[e]))).join("&"),r=e.indexOf("#");if(-1===r?e+="".concat(i,"#wechat_redirect"):e=e.slice(0,r)+i+e.slice(r),"webview"===n)-1!==navigator.userAgent.indexOf("MicroMessenger")&&(o.isIOS||o.isAndroid||o.isWp)?a.invoke("openUrlWithExtraWebview",{url:e,openType:1},(t=>{-1===t.err_msg.indexOf("ok")&&(location.href=e)})):window.open(e);else location.href=e},changeURLArg:E,getUrlParamsMap:e=>{if(!e||!e.length)return{};const t=e.indexOf("?"),n={};return t>-1&&e.slice(t+1,e.indexOf("#")>-1?e.indexOf("#"):void 0).split("&").forEach((e=>{if(e){const t=e.indexOf("=");t>-1?n[e.slice(0,t)]=e.slice(t+1):n[e]=""}})),n},numFormat2Unit:(e=0,t=1)=>{if("number"!=typeof e||"number"!=typeof t)throw new Error("".concat(e," and ").concat(t," should be a number."));const n={value:0,unit:""};let o=1e4,i=["","万","亿","万亿"],a=0;return"en"===window.LANG&&(o=1e3,i=["","k","m","b"]),e<o?(n.value=e,n.unit=""):(a=Math.floor(Math.log(e)/Math.log(o)),n.value=(e/Math.pow(o,a)).toFixed(t),n.unit=i[a]),n.value+n.unit},goProfile:function(e={},t={},n=(()=>{}),r){const c=()=>{a.invoke("profile",t,n)};o.isWxWork?o.isWxWork&&(o.isAndroid||o.isIOS)?o.cpVersion("4.1.12",1,!0,"wxwork")?(console.log("[jsapi openMPURLInWechat] mpURL:",window.location.href),a.invoke("wwapp2.openMPURLInWechat",{mpURL:window.location.href},(e=>{console.log("[jsapi openMPURLInWechat] res:",e,JSON.stringify(e))}))):window.weui.alert("请升级企业微信版本"):window.weui.alert("请使用手机版微信"):o.isNewMpApp||o.isDonutAPP?c():o.isWechat?1===r||5===r?u.openUrlWithExtraWebview("https://mp.weixin.qq.com/mp/getprofiletransferpage?__biz=".concat(e.biz,"#wechat_redirect")):o.isWechat&&(o.isIOS||o.isAndroid||o.isHarmony||o.isWindows&&o.cpVersion("3.4.5",1,!0,"windows")||o.isMacWechat&&o.cpVersion("3.5.0",1,!0,"mac")||i.os.unifiedPC)?c():location.href="/mp/profile_ext?action=home&__biz=".concat(e.biz,"&scene=").concat(e.scene,"#wechat_redirect"):window.weui.alert("请在微信内打开")},getDefaultFontSize:e=>{e=e||document.body;const t=document.createElement("div");t.style.width="1000em",e.appendChild(t);const n=t.offsetWidth/1e3;return e.removeChild(t),n},enableSelect:N,disableSelect:U,formatTime:function(e){const t=window.parseInt(Date.now()/1e3)-e;let n="";if(t<120)n="1分钟前";else if(t<3600){n=window.parseInt(t/60)+"分钟前"}else if(t<7200)n="1小时前";else if(t<86400){n=window.parseInt(t/3600)+"小时前"}else{const e=t/86400;if(e<=1)n="1天前";else if(e>1){n=window.parseInt(e)+"天前"}}return n},goSouyisou:j,searchWordToSouyisou:z,setPubTimeNew:B,formatDate:function(e){const t=(new Date).getTime()/1e3-e,n=(new Date).getFullYear(),o=new Date(1e3*e);let i="";return i=t<60?"".concat(Math.floor(t),"秒前"):t<3600?"".concat(Math.floor(t/60),"分钟前"):t<86400?"".concat(Math.floor(t/60/60),"小时前"):t<172800?"昨天":t<604800?"".concat(Math.floor(t/24/60/60),"天前"):o.getFullYear()===n?"".concat(o.getMonth()+1,"月").concat(o.getDate(),"日"):"".concat(o.getFullYear(),"年").concat(o.getMonth()+1,"月").concat(o.getDate(),"日"),i},calLanguageRatio:F};export{J as A,u as a,z as b,L as c,j as d,F as e,R as f,H as g,O as h,d as i,p as o,B as s,C as t};
